<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Use relative paths for styles and scripts with cache_id -->
  <link rel="stylesheet" type="text/css" href="../static/styles/4-common.css?{{ cache_id }}" />
  <link rel="stylesheet" type="text/css" href="../static/styles/3-header.css?{{ cache_id }}" />
  <link rel="stylesheet" type="text/css" href="../static/styles/3-footer.css?{{ cache_id }}" />
  <link rel="stylesheet" type="text/css" href="../static/styles/6-filters.css?{{ cache_id }}" />
  <link type="text/css" rel="stylesheet" href="../static/styles/8-places.css?{{ cache_id }}" />
  <link rel="icon" href="../static/images/icon.png" />
  <!-- Use integrity and crossorigin attributes for script tag -->
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <!-- Use defer attribute for script tag to ensure it doesn't block rendering -->
  <script type="text/javascript" src="../static/scripts/1-hbnb.js?{{ cache_id }}" defer></script>
  <title>HBnB</title>
</head>
<body>
  <header>
    <div class="logo"></div>
  </header>
  <div class="container">
    <section class="filters">
      <div class="locations">
        <h3>States</h3>
        <h4>&nbsp;</h4>
        <div class="popover">
          <ul>
            <!-- Use meaningful variable names for better readability -->
            {% for state_and_cities in states %}
            <li>
              <h2>{{ state_and_cities[0].name }}:</h2>
              <ul>
                {% for city in state_and_cities[1] %}
                <li>{{ city.name }}</li>
                {% endfor %}
              </ul>
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>
      <div class="amenities">
        <h3>Amenities</h3>
        <h4>&nbsp;</h4>
        <div class="popover">
          <ul>
            {% for amenity in amenities %}
            <!-- Correct the input type and move the id attribute outside li tag -->
            <li style="padding-left: 10px">
              <input type="checkbox" data-id="{{ amenity.id }}" data-name="{{ amenity.name }}" id="check_amens" />
              {{ amenity.name }}
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>
      <button type="button">Search</button>
    </section>
    <div class="placesh1"><h1>Places</h1></div>
    <section class="places">
      <!-- <h1>Places</h1> -->
      {% for place in places %}
      <arts>
        <div class="title_box">
          <h2>{{ place.name }}</h2>
          <div class="price_by_night">${{ place.price_by_night }}</div>
        </div>
        <div class="information">
          <!-- Use singular or plural based on the quantity -->
          <div class="max_guest">{{ place.max_guest }} Guest{% if place.max_guest != 1 %}s{% endif %}</div>
          <div class="number_rooms">{{ place.number_rooms }} Bedroom{% if place.number_rooms != 1 %}s{% endif %}</div>
          <div class="number_bathrooms">{{ place.number_bathrooms }} Bathroom{% if place.number_bathrooms != 1 %}s{% endif %}</div>
        </div>
        <div class="user">
          <b>Owner:</b> {{ place.user.first_name }} {{ place.user.last_name }}
        </div>
        <!-- Use safe filter to render HTML safely -->
        <div class="description">{{ place.description | safe }}</div>
      </arts>
      {% endfor %}
    </section>
  </div>
  <footer>
    <p>Holberton School</p>
  </footer>
</body>
</html>
